{% extends "base.html" %}
{% load static %}

{% block title %}DreamWedAI{% endblock %}
{% block css %}
{{ block.super }}
<link rel="canonical" href="{{ request.scheme }}://{{ request.get_host }}{% url 'home' %}">
{% endblock %}

{% block content %}


<div class="homepage">
  <!-- Hero Section - Enhanced with Real Image -->
  <section class="hero-section position-relative overflow-hidden">
    <div class="hero-particles"></div>
    <div class="container">
      <div class="row min-vh-100 align-items-center">
        <div class="col-lg-6 hero-content">
          <h1 class="display-3 fw-bold mb-4 text-white">
            Say Yes to Your
            <span class="text-gradient">Wedding Journey</span>
          </h1>
          <p class="lead mb-4 text-white-75">
         From stunning engagement announcements to picture-perfect wedding ceremonies and flawless wedding day photos‚Äîtransform every moment, save thousands on photographers and designers, and visualize your wedding & engagement.  </p>
          <div class="hero-buttons mb-4">
            {% if user.is_authenticated %}
              <a href="{% url 'image_processing:wedding_studio' %}" class="hero-cta-primary me-3">
                <i class="bi bi-magic"></i> Visit Studio
              </a>
            {% else %}
              <a href="{% url 'account_signup' %}" class="hero-cta-primary me-3">
                Start Free!
              </a>
            {% endif %}

          </div>
        </div>
        <div class="col-lg-6">
          <div class="hero-visual">
            <!-- Floating Elements -->
            <div class="floating-element">
              <div class="d-flex align-items-center">
                <div class="me-3" style="font-size: 1.5rem;">üíç</div>
                <div>
                  <div class="fw-bold">Engagement Photos</div>
                  <small class="opacity-75">Perfect for invites & announcements</small>
                </div>
              </div>
            </div>
            <div class="floating-element">
              <div class="d-flex align-items-center">
                <div class="me-3" style="font-size: 1.5rem;">‚ú®</div>
                <div>
                  <div class="fw-bold">Ceremony Staging</div>
                  <small class="opacity-75">Visualize your wedding venue styled</small>
                </div>
              </div>
            </div>
            <div class="floating-element">
              <div class="d-flex align-items-center">
                <div class="me-3" style="font-size: 1.5rem;">üì∏</div>
                <div>
                  <div class="fw-bold">Wedding Day Photos</div>
                  <small class="opacity-75">Fix & perfect every moment</small>
                </div>
              </div>
            </div>
            
            <!-- Main Hero Image -->
            <div class="hero-image-wrapper">
              <img src="{% static 'images/home/hero.png' %}" 
                   alt="Beautiful wedding ceremony showcasing AI transformation possibilities" 
                   class="hero-featured-image">
              
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Engagement Photo Section -->
  <section class="engagement-photo-section" style="background-color: #f8f9fa;">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-6 order-lg-2 mb-4 mb-lg-0">
          <div class="photo-comparison-grid">
            <div class="engagement-multi-input">
              <div class="input-photos">
                <div class="input-photo-small">
                  <img src="{% static 'images/home/engagement-input-1.jpg' %}" 
                       alt="First input photo" 
                       class="photo-sample-small"
                       loading="lazy">
                  <span class="photo-label">Photo 1</span>
                </div>
                <div class="input-photo-small">
                  <img src="{% static 'images/home/engagement-input-2.jpg' %}" 
                       alt="Second input photo" 
                       class="photo-sample-small"
                       loading="lazy">
                  <span class="photo-label">Photo 2</span>
                </div>
                <div class="input-photo-small">
                  <img src="{% static 'images/home/engagement-input-3.jpg' %}" 
                       alt="Third input photo" 
                       class="photo-sample-small"
                       loading="lazy">
                  <span class="photo-label">Photo 3</span>
                </div>
              </div>
              <div class="merge-arrows">
                <i class="bi bi-arrow-right"></i>
                <i class="bi bi-arrow-right"></i>
                <i class="bi bi-arrow-right"></i>
              </div>
              <div class="output-photo">
                <img src="{% static 'images/home/engagement-post.png' %}" 
                     alt="Combined perfect engagement photo" 
                     class="photo-sample-output"
                     loading="lazy">
                <span class="photo-label enhanced"></span>
              </div>
            </div>
          </div>
        </div>
        
        <div class="col-lg-6 order-lg-1">
          <span class="section-badge">
            <i class="bi bi-heart-fill"></i> Engagement Photos
          </span>
          <h2 class="section-title text-dark mb-4">Picture-Perfect Engagement Announcements</h2>
          <p class="section-text mb-4">
            Transform your casual photos into magazine-worthy engagement shots that wow on social media and look stunning on your save-the-dates. No expensive photographer needed.
          </p>
          
          <div class="benefit-list">
            <div class="benefit-item">
              <i class="bi bi-check-circle-fill text-success"></i>
              <div>
                <strong>Save on Professional Photography</strong>
                <p class="mb-0">Get professional-quality engagement photos without the $500+ photographer session</p>
              </div>
            </div>
            <div class="benefit-item">
              <i class="bi bi-check-circle-fill text-success"></i>
              <div>
                <strong>Perfect for Invitations & Social Media</strong>
                <p class="mb-0">Create stunning images for save-the-dates, wedding websites, and Instagram announcements</p>
              </div>
            </div>
            <div class="benefit-item">
              <i class="bi bi-check-circle-fill text-success"></i>
              <div>
                <strong>Fix Any Setting or Lighting</strong>
                <p class="mb-0">Transform backyard snapshots into romantic, professionally-lit engagement portraits</p>
              </div>
            </div>
            <div class="benefit-item">
              <i class="bi bi-check-circle-fill text-success"></i>
              <div>
                <strong>Match Your Wedding Aesthetic</strong>
                <p class="mb-0">Start your wedding journey with photos that perfectly match your style and vision</p>
              </div>
            </div>
          </div>
          
          <div class="mt-4">
            <a href="{% if user.is_authenticated %}{% url 'image_processing:wedding_studio' %}{% else %}{% url 'account_signup' %}{% endif %}" class="hero-cta-primary">
              <i class="bi bi-camera-fill"></i> Create Your Engagement Photos
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Wedding Day Photo Section -->
  <section class="wedding-photo-section" style="background-color: #ffffff;">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-6 mb-4 mb-lg-0">
          <div class="photo-comparison-grid">
            <div class="wedding-slideshow-comparison">
              <div class="photo-before-static">
                <div class="photo-container">
                  <img src="{% static 'images/home/wedding-before.jpeg' %}" 
                       alt="Original wedding photo with issues" 
                       class="photo-sample-large"
                       loading="lazy">
                </div>
                <span class="photo-label-below">Problem Photo</span>
              </div>
              <div class="photo-arrow">
                <i class="bi bi-arrow-right"></i>
              </div>
              <div class="photo-after-slideshow">
                <div class="slideshow-container">
                  <div class="slideshow-slide active">
                    <div class="photo-container">
                      <img src="{% static 'images/home/wedding-after-1.png' %}" 
                           alt="Fixed wedding photo - sunny" 
                           class="photo-sample-large"
                           loading="lazy">
                    </div>
                    <span class="photo-label-below">Remove blur and people in the background</span>
                  </div>
                  <div class="slideshow-slide">
                    <div class="photo-container">
                      <img src="{% static 'images/home/wedding-after-2.png' %}" 
                           alt="Fixed wedding photo - enhanced" 
                           class="photo-sample-large"
                           loading="lazy">
                    </div>
                    <span class="photo-label-below">Beautiful sunny day</span>
                  </div>
                  <div class="slideshow-slide">
                    <div class="photo-container">
                      <img src="{% static 'images/home/wedding-after-3.png' %}" 
                           alt="Fixed wedding photo - perfect" 
                           class="photo-sample-large"
                           loading="lazy">
                    </div>
                    <span class="photo-label-below">Extravagant winter wedding</span>
                  </div>
                </div>
                <div class="slideshow-dots">
                  <span class="dot active" data-slide="0"></span>
                  <span class="dot" data-slide="1"></span>
                  <span class="dot" data-slide="2"></span>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <div class="col-lg-6">
          <span class="section-badge">
            <i class="bi bi-stars"></i> Wedding Day Photos
          </span>
          <h2 class="section-title text-dark mb-4">Never Settle for Imperfect Wedding Photos</h2>
          <p class="section-text mb-4">
            Rescue disappointing photos from underperforming photographers, fix weather issues, and ensure every shot from your wedding is frame-worthy.
          </p>
          
          <div class="benefit-list">
            <div class="benefit-item">
              <i class="bi bi-check-circle-fill text-success"></i>
              <div>
                <strong>Fix Bad Photographer Experiences</strong>
                <p class="mb-0">Salvage photos from inexperienced photographers‚Äîadjust exposure, fix focus, and enhance quality</p>
              </div>
            </div>
            <div class="benefit-item">
              <i class="bi bi-check-circle-fill text-success"></i>
              <div>
                <strong>Transform Cloudy Days to Sunny</strong>
                <p class="mb-0">Turn overcast or rainy wedding photos into bright, beautiful memories with perfect lighting</p>
              </div>
            </div>
            <div class="benefit-item">
              <i class="bi bi-check-circle-fill text-success"></i>
              <div>
                <strong>Capture Moments Professionally</strong>
                <p class="mb-0">Elevate candid shots and smartphone photos to professional-quality keepsakes</p>
              </div>
            </div>
            <div class="benefit-item">
              <i class="bi bi-check-circle-fill text-success"></i>
              <div>
                <strong>Every Shot Frame-Worthy</strong>
                <p class="mb-0">Make every wedding photo print-ready and perfect for albums, walls, and sharing</p>
              </div>
            </div>
          </div>
          
          <div class="mt-4">
            <a href="{% if user.is_authenticated %}{% url 'image_processing:wedding_studio' %}{% else %}{% url 'account_signup' %}{% endif %}" class="hero-cta-primary">
              <i class="bi bi-magic"></i> Perfect Your Wedding Photos
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Combined Studio Demo + How It Works Section -->
  <section class="studio-demo-section" id="studio-demo" style="background-color: #f8f9fa;">
    <div class="container">
      <div class="row">
        <div class="col-12 text-center mb-5">
          <h2 class="section-title text-dark">Visualize Your Perfect Wedding Venue</h2>
          <p class="section-subtitle text-muted">Transform any space into your dream ceremony or reception‚Äîsee it before the big day</p>
        </div>
      </div>
      
      <div class="row align-items-center mb-5">
        <!-- Interactive Before/After Demo -->
        <div class="col-lg-7 mb-4 mb-lg-0">
          <div class="interactive-demo-container">
            <div class="before-after-slider" id="beforeAfterSlider">
              <div class="before-image-container">
                <img src="{% static 'images/home/before-transformation.jpg' %}" 
                     alt="Original empty venue space before AI transformation" 
                     class="comparison-image"
                     loading="lazy">
                <div class="image-label before-label">
                 Drag to transform
                </div>
              </div>
              <div class="after-image-container">
                <img src="{% static 'images/home/after-transformation.png' %}" 
                     alt="Same venue transformed into beautiful wedding space" 
                     class="comparison-image"
                     loading="lazy">
                
              </div>
              <div class="slider-handle" id="sliderHandle">
                <div class="handle-line"></div>
                <div class="handle-circle">
                  <i class="bi bi-arrows-expand"></i>
                </div>
                <div class="handle-line"></div>
              </div>
          
            </div>
            
            <div class="demo-stats mt-3">
              <div class="row text-center">
                <div class="col-4">
                  <div class="stat-number">15s</div>
                  <div class="stat-label">Processing Time</div>
                </div>
                <div class="col-4">
                  <div class="stat-number">50+</div>
                  <div class="stat-label">Wedding Themes</div>
                </div>
                <div class="col-4">
                  <div class="stat-number">1000+</div>
                  <div class="stat-label">Ways to Style</div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- How It Works Steps -->
        <div class="col-lg-5">
          <div class="how-it-works-steps">
            <div class="step-item">
      
              <div class="step-content">
                <h4>Upload Your Wedding Space</h4>
                <p>Take a photo of any indoor or outdoor space. DreamWedAI helps you set the season, lighting, style, and room use.</p>
              </div>
            </div>
            
            <div class="step-item">
              <div class="step-content">
                <h4>Design Your Wedding</h4>
                <p>Select from designer wedding themes & style options. <br>Optionally input your wedding ideas for a tailored wedding design.</p>
              </div>
        
            </div>
            
            <div class="step-item">
         
              <div class="step-content">
                <h4>See Your Wedding</h4>
                <p>Watch instantly as your space transforms with perfect decorations, lighting, and atmosphere to confidently design your wedding.</p>
              </div>
            </div>
          </div>
          
          <div class="text-center mt-4">
            <a href="{% if user.is_authenticated %}{% url 'image_processing:wedding_studio' %}{% else %}{% url 'account_signup' %}{% endif %}" class="hero-cta-primary">
              <i class="bi bi-rocket-takeoff"></i> Start Styling Your Venue - Free!
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Enhanced Theme Showcase Section -->
  <section class="theme-showcase" style="background-color: #ffffff;">
    <div class="container">
      <div class="row">
        <div class="col-12 text-center mb-5">
          <h2 class="section-title text-dark">The Tools to Support Every Wedding from Engagement to Ceremony</h2>
          <p class="section-subtitle text-muted">One seamless journey, endless possibilities‚Äîstage engagement photos, try on dresses & tuxedos, and design your wedding venue with guidance from wedding designers and photographers. </p>
        </div>
      </div>
      
      <div class="theme-gallery-enhanced">


        <div class="theme-card-enhanced">
          <div class="theme-preview">
            <img src="{% static 'images/home/engagement-after.png' %}" 
                 alt="Rustic barn wedding example with natural wood and vintage charm" 
                 class="theme-image"
                 loading="lazy">
            <div class="theme-overlay">
              <div class="theme-overlay-content">
               <i class="bi bi-gem fs-1 mb-2"></i>
                <div class="theme-overlay-title">Tools for Every Couple</div>
              </div>
            </div>
          </div>
          <div class="theme-card-content">
            <span class="theme-tag rustic-tag">Engagement Photos</span>
            <h4 class="mb-2">Professional Photographer</h4>
            <p class="text-muted mb-3">Bring your hobbies and yourselves. Easy to use Smart-Studio helps you make your perfect save-the-dates.</p>
            <div class="theme-features">
              <span class="feature-tag">Ferris Wheel</span>
              <span class="feature-tag">Petting Zoo</span>
              <span class="feature-tag">Walking Hand-in-hand</span>
            </div>
          </div>
        </div>
        
                <div class="theme-card-enhanced">
          <div class="theme-preview">
            <img src="{% static 'images/home/barn-rustic.png' %}" 
                 alt="Garden wedding example with natural beauty and floral arrangements" 
                 class="theme-image"
                 loading="lazy">
            <div class="theme-overlay">
              <div class="theme-overlay-content">
                <i class="bi bi-gem fs-1 mb-2"></i>
                <div class="theme-overlay-title">Inspiration by Design</div>
              </div>
            </div>
          </div>
          <div class="theme-card-content">
            <span class="theme-tag garden-tag">Venue Design</span>
            <h4 class="mb-2">Wedding Designer</h4>
            <p class="text-muted mb-3">Save money by knowing what exactly to buy, accomodate specific guest counts, and achieve your dream wedding with access to thousands of designs. </p>
            <div class="theme-features">
              <span class="feature-tag">Reception</span>
              <span class="feature-tag">Bridal Suite</span>
              <span class="feature-tag">Welcome Area</span>
            </div>
          </div>
        </div>
        
        <div class="theme-card-enhanced">
          <div class="theme-preview">
            <img src="{% static 'images/home/Wedding_Champagne.png' %}" 
                 alt="Elegant formal wedding example with sophisticated decorations" 
                 class="theme-image"
                 loading="lazy">
            <div class="theme-overlay">
              <div class="theme-overlay-content">
                <i class="bi bi-gem fs-1 mb-2"></i>
                <div class="theme-overlay-title">Frame Ready Photos</div>
              </div>
            </div>
          </div>
          <div class="theme-card-content">
            <span class="theme-tag elegant-tag">Wedding Photos</span>
            <h4 class="mb-2">Wedding Photographer</h4>
            <p class="text-muted mb-3">Recreate and fix problem photos. Improve lighting or framing. Relive moments that go by too fast with our composition and emotion tools.</p>
            <div class="theme-features">
              <span class="feature-tag">Breaking Glass</span>
              <span class="feature-tag">Bouquet Toss</span>
              <span class="feature-tag">With Grandparents</span>
            </div>
          </div>
        </div>
      </div>
      
      <div class="text-center mt-5">
        <a href="{% if user.is_authenticated %}{% url 'image_processing:wedding_studio' %}{% else %}{% url 'subscriptions:pricing' %}{% endif %}" class="hero-cta-primary">
          <i class="bi bi-palette"></i> Explore All Themes
        </a>
        <p class="small text-muted mt-2 mb-0">
          Choose: Wedding Style, Moment, Activity, Lighting, Attire, Season, & More
        </p>
      </div>
    </div>
  </section>

  <!-- Wedding Pages Section -->
  <section class="wedding-pages">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-6 mb-4 mb-lg-0">
          <span class="free-badge">
            <i class="bi bi-gift"></i> FREE Forever
          </span>
          <h2 class="section-title">Beautiful Wedding Page</h2>
          <p class="section-subtitle">Share your love story, showcase your wedding venue, and manage your registries, RSVPs, & stream links all in one stunning place.</p>
          <ul class="list-unstyled mb-4">
            <li class="mb-2"><i class="bi bi-check-circle me-2 text-cyan"></i>Free custom wedding website</li>
            <li class="mb-2"><i class="bi bi-check-circle me-2 text-cyan"></i>Share wedding details easily</li>
            <li class="mb-2"><i class="bi bi-check-circle me-2 text-cyan"></i>Manage registries, RSVPs, and more</li>
          </ul>
          <div>
            <a href="{% if user.is_authenticated %}{% url 'wedding_shopping:dashboard' %}{% else %}{% url 'account_signup' %}{% endif %}" class="hero-cta-primary">
              <i class="bi bi-heart"></i> Create Your Free Page
            </a>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="wedding-page-preview">
            <div class="browser-mockup">
              <div class="browser-header">
                <div class="browser-dots">
                  <span class="dot red"></span>
                  <span class="dot yellow"></span>
                  <span class="dot green"></span>
                </div>
                <div class="browser-url">dreamwedai.com/wedding/jamesanna112425</div>
              </div>
              <img src="{% static 'images/home/website-example.jpg' %}" 
                   alt="Beautiful wedding page example showing couple photo and wedding details" 
                   class="website-preview-image">
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Social Proof Section -->
  <section class="testimonials-section" style="background-color: #f8f9fa;">
    <div class="container">
      <div class="row mb-5">
        <div class="col-12 text-center">
          <h2 class="section-title text-dark">Dream Weddings Made Real</h2>
          <p class="section-subtitle text-muted">See what couples and wedding planners are saying about their DreamWedAI experience</p>
        </div>
      </div>
      
      <div class="row g-4">
        <div class="col-lg-4">
          <div class="testimonial-card">
            <div class="testimonial-content">
              <div class="stars mb-3">
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
              </div>
              <p class="mb-3">"DreamWedAI helped us visualize our fall outdoor wedding perfectly. We could see exactly how the space would look decorated, which made picking a season so much easier!"</p>
              <div class="testimonial-author">
                <div class="author-info">
                  <strong>Danielle & Divine</strong>
                  <div class="text-muted">Garden Wedding ‚Ä¢ May 2026</div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <div class="col-lg-4">
          <div class="testimonial-card">
            <div class="testimonial-content">
              <div class="stars mb-3">
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
              </div>
              <p class="mb-3">"Our wedding ended up being rainy, cloud covered day!  We were happy to recieve the luck, but even happier our photos were able to be touched up and turned to sunny days by DreamWedAI."</p>
              <div class="testimonial-author">
                <div class="author-info">
                  <strong>Anna & James</strong>
                  <div class="text-muted">Wedding Photos ‚Ä¢ November 2025</div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <div class="col-lg-4">
          <div class="testimonial-card">
            <div class="testimonial-content">
              <div class="stars mb-3">
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
              </div>
              <p class="mb-3">"Being able to share wedding visions with our clients is amazing. The organization and support tools offered has been a game changer in customer satisfaction."</p>
              <div class="testimonial-author">
                <div class="author-info">
                  <strong>Alex Chen</strong>
                  <div class="text-muted">Modern Weddings by Alex ‚Ä¢ Miami, FL</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Final CTA Section -->
  <section class="final-cta" style="background-color: #ffffff;">
    <div class="container">
      <div class="row">
        <div class="col-12 text-center">
          <h2 class="section-title">Ready to See Your Wedding?</h2>
          <p class="section-subtitle">Have fun planning and styling your engagement & wedding without the wedding planner price tag.</p>
          <div class="mb-4">
            {% if user.is_authenticated %}
              <a href="{% url 'image_processing:wedding_studio' %}" class="hero-cta-primary me-2">
                <i class="bi bi-magic"></i> See your wedding day
              </a>
             
            {% else %}
           
            <a href="{% url 'subscriptions:pricing' %}" class="hero-cta-primary me-2">
               Get started for free!
            </a>
            {% endif %}
          </div>
          <p class="small opacity-75 mb-0">
            <i class="bi bi-shield-check me-2"></i>
            No credit card required for free wedding page ‚Ä¢ Sign-up & Cancel Anytime
          </p>
        </div>
      </div>
    </div>
  </section>
</div>

<!-- Enhanced JavaScript for Interactive Features -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Initialize Before/After Slider
    initializeBeforeAfterSlider();
    
    // Enhanced theme card interactions
    initializeThemeCards();
    
    // Demo stats counter
    initializeDemoStats();
    
    // Smooth scroll for internal links
    initializeSmoothScroll();
    
    // Initialize affiliate banner
    initializeAffiliateBanner();
});

function initializeAffiliateBanner() {
    const banner = document.getElementById('affiliateBanner');
    if (!banner) return;
    
    // Banner always shows on page load - no localStorage check
    // User can dismiss it, but it will return on next page load
}

function closeAffiliateBanner() {
    const banner = document.getElementById('affiliateBanner');
    if (banner) {
        banner.style.animation = 'slideUp 0.3s ease-out';
        setTimeout(() => {
            banner.classList.add('hidden');
            // No localStorage - banner returns on refresh
        }, 300);
    }
}

function trackAffiliateClick() {
    // Track conversion for analytics
    if (typeof gtag !== 'undefined') {
        gtag('event', 'affiliate_signup_click', {
            'event_category': 'affiliate',
            'event_label': 'home_page_banner'
        });
    }
}

// Slide up animation
const style = document.createElement('style');
style.textContent = `
@keyframes slideUp {
  from {
    transform: translateY(0);
    opacity: 1;
  }
  to {
    transform: translateY(-100%);
    opacity: 0;
  }
}
`;
document.head.appendChild(style);

function initializeBeforeAfterSlider() {
    const slider = document.getElementById('beforeAfterSlider');
    const handle = document.getElementById('sliderHandle');
    
    if (!slider || !handle) return;
    
    let isDragging = false;
    let currentPosition = 50; // Start at 50% (middle)
    
    // Set initial position
    updateSliderPosition(currentPosition);
    
    // Mouse events
    handle.addEventListener('mousedown', startDragging);
    document.addEventListener('mousemove', drag);
    document.addEventListener('mouseup', stopDragging);
    
    // Touch events
    handle.addEventListener('touchstart', startDragging);
    document.addEventListener('touchmove', drag);
    document.addEventListener('touchend', stopDragging);
    
    // Click on slider to move handle
    slider.addEventListener('click', function(e) {
        if (e.target === handle || handle.contains(e.target)) return;
        
        const rect = slider.getBoundingClientRect();
        const clickPosition = ((e.clientX - rect.left) / rect.width) * 100;
        currentPosition = Math.max(0, Math.min(100, clickPosition));
        updateSliderPosition(currentPosition);
    });
    
    function startDragging(e) {
        isDragging = true;
        handle.style.cursor = 'grabbing';
        slider.style.cursor = 'grabbing';
        e.preventDefault();
    }
    
    function drag(e) {
        if (!isDragging) return;
        
        const rect = slider.getBoundingClientRect();
        const clientX = e.touches ? e.touches[0].clientX : e.clientX;
        const newPosition = ((clientX - rect.left) / rect.width) * 100;
        
        currentPosition = Math.max(0, Math.min(100, newPosition));
        updateSliderPosition(currentPosition);
        
        e.preventDefault();
    }
    
    function stopDragging() {
        isDragging = false;
        handle.style.cursor = 'grab';
        slider.style.cursor = 'default';
    }
    
    function updateSliderPosition(position) {
        const afterContainer = slider.querySelector('.after-image-container');
        const beforeContainer = slider.querySelector('.before-image-container');
        
        // Update clip path for reveal effect
        afterContainer.style.clipPath = `polygon(${position}% 0%, 100% 0%, 100% 100%, ${position}% 100%)`;
        beforeContainer.style.clipPath = `polygon(0% 0%, ${position}% 0%, ${position}% 100%, 0% 100%)`;
        
        // Move handle
        handle.style.left = `${position}%`;
        
        // Update instructions opacity based on interaction
        const instructions = slider.querySelector('.slider-instructions');
        if (instructions) {
            instructions.style.opacity = position === 50 ? '1' : '0.3';
        }
    }
    
    // Auto-demo on first load
    setTimeout(() => {
        if (currentPosition === 50) {
            animateDemo();
        }
    }, 2000);
    
    function animateDemo() {
        let step = 0;
        const steps = [75, 25, 50]; // Demo positions
        
        function nextStep() {
            if (step < steps.length) {
                animateToPosition(steps[step], 1000, () => {
                    setTimeout(() => {
                        step++;
                        nextStep();
                    }, 1500);
                });
            }
        }
        
        nextStep();
    }
    
    function animateToPosition(targetPosition, duration, callback) {
        const startPosition = currentPosition;
        const startTime = Date.now();
        
        function animate() {
            const elapsed = Date.now() - startTime;
            const progress = Math.min(elapsed / duration, 1);
            const easeProgress = 1 - Math.pow(1 - progress, 3); // Ease out cubic
            
            currentPosition = startPosition + (targetPosition - startPosition) * easeProgress;
            updateSliderPosition(currentPosition);
            
            if (progress < 1) {
                requestAnimationFrame(animate);
            } else if (callback) {
                callback();
            }
        }
        
        requestAnimationFrame(animate);
    }
}

function initializeThemeCards() {
    document.querySelectorAll('.theme-card-enhanced').forEach(card => {
        const overlay = card.querySelector('.theme-overlay');
        
        card.addEventListener('mouseenter', () => {
            overlay.style.opacity = '1';
            card.style.transform = 'translateY(-10px) scale(1.02)';
        });
        
        card.addEventListener('mouseleave', () => {
            overlay.style.opacity = '0';
            card.style.transform = 'translateY(0) scale(1)';
        });
    });
}

function initializeDemoStats() {
    const statNumbers = document.querySelectorAll('.demo-stats .stat-number');
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting && !entry.target.classList.contains('animated')) {
                entry.target.classList.add('animated');
                animateNumber(entry.target);
            }
        });
    });
    
    statNumbers.forEach(stat => observer.observe(stat));
}

function animateNumber(element) {
    const text = element.textContent;
    const number = parseInt(text.replace(/\D/g, ''));
    const suffix = text.replace(/\d/g, '');
    
    if (isNaN(number)) return;
    
    let current = 0;
    const increment = number / 30;
    
    const timer = setInterval(() => {
        current += increment;
        if (current >= number) {
            element.textContent = number + suffix;
            clearInterval(timer);
        } else {
            element.textContent = Math.floor(current) + suffix;
        }
    }, 50);
}

function initializeSmoothScroll() {
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });
}
</script>

<style>
/* Enhanced Hero Styles */
.hero-visual {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 500px;
}

.floating-element {
  position: absolute;
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(10px);
  padding: 1rem 1.5rem;
  border-radius: 15px;
  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
  animation: float 6s ease-in-out infinite;
  transition: all 0.3s ease;
  z-index: 3;
  max-width: 250px;
}

.floating-element:hover {
  transform: translateY(-10px) scale(1.05);
  box-shadow: 0 15px 40px rgba(0, 0, 0, 0.25);
}

.floating-element:nth-child(1) {
  top: 10%;
  left: -5%;
  animation-delay: 0s;
}

.floating-element:nth-child(2) {
  top: 50%;
  right: -10%;
  animation-delay: 2s;
}

.floating-element:nth-child(3) {
  bottom: 15%;
  left: -8%;
  animation-delay: 4s;
}

@keyframes float {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-20px);
  }
}

.hero-image-wrapper {
  position: relative;
  width: 350px;
  height: 350px;
  margin: 0 auto;
  border-radius: 50%;
  overflow: hidden;
  box-shadow: 0 20px 60px rgba(255, 107, 157, 0.3);
  z-index: 5;
}

.hero-featured-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.3s ease;
  animation: pulse 3s ease-in-out infinite;
}

.hero-image-wrapper:hover .hero-featured-image {
  transform: scale(1.1);
  animation-play-state: paused;
}

@keyframes pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

.hero-image-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(255, 107, 157, 0.2);
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  transition: opacity 0.3s ease;
  backdrop-filter: blur(2px);
}

.hero-image-wrapper:hover .hero-image-overlay {
  opacity: 1;
}

.hero-overlay-text {
  color: white;
  text-align: center;
  font-weight: 700;
  text-shadow: 0 2px 10px rgba(0,0,0,0.5);
}

/* Studio Demo Section */
.studio-demo-section {
  padding: 6rem 0;
  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
}

.interactive-demo-container {
  background: white;
  border-radius: 20px;
  padding: 2rem;
  box-shadow: 0 15px 40px rgba(0,0,0,0.1);
  position: relative;
}

/* Before/After Slider */
.before-after-slider {
  position: relative;
  width: 100%;
  height: 400px;
  border-radius: 15px;
  overflow: hidden;
  cursor: default;
  user-select: none;
  background: #f8f9fa;
}

.before-image-container,
.after-image-container {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.comparison-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  user-drag: none;
  -webkit-user-drag: none;
}

.slider-handle {
  position: absolute;
  top: 0;
  left: 50%;
  width: 4px;
  height: 100%;
  background: white;
  cursor: grab;
  z-index: 10;
  transform: translateX(-50%);
  box-shadow: 0 0 20px rgba(0,0,0,0.3);
}

.slider-handle:hover {
  background: var(--bright-cyan);
}

.handle-circle {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 50px;
  height: 50px;
  background: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 15px rgba(0,0,0,0.2);
  color: var(--bright-cyan);
  font-size: 1.2rem;
}

.handle-line {
  width: 4px;
  height: calc(50% - 25px);
  background: white;
  margin: 0 auto;
}

.slider-instructions {
  position: absolute;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(0,0,0,0.7);
  color: white;
  padding: 0.5rem 1rem;
  border-radius: 25px;
  font-size: 0.9rem;
  backdrop-filter: blur(10px);
  transition: opacity 0.3s ease;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.image-label {
  position: absolute;
  bottom: 15px;
  background: rgba(0,0,0,0.8);
  color: white;
  padding: 0.5rem 1rem;
  border-radius: 15px;
  font-size: 0.9rem;
  font-weight: 600;
  backdrop-filter: blur(10px);
}

.before-label {
  left: 15px;
}

.after-label {
  right: 15px;
}

/* Demo Stats */
.demo-stats {
  border-top: 1px solid #e9ecef;
  padding-top: 1.5rem;
}

.demo-stats .stat-number {
  font-size: 1.8rem;
  font-weight: 800;
  color: var(--bright-cyan);
  margin-bottom: 0.25rem;
}

.demo-stats .stat-label {
  font-size: 0.85rem;
  color: var(--medium-gray);
  font-weight: 500;
}

/* How It Works Steps */
.how-it-works-steps {
  padding: 2rem 0;
}

.step-item {
  display: flex;
  align-items: flex-start;
  margin-bottom: 2.5rem;
  gap: 1.5rem;
}

.step-item:nth-child(even) {
  flex-direction: row-reverse;
  text-align: right;
}



.step-content h4 {
  color: var(--primary-navy);
  font-weight: 700;
  margin-bottom: 0.75rem;
}

.step-content p {
  color: var(--medium-gray);
  margin: 0;
  line-height: 1.6;
}

/* Enhanced Theme Showcase */
.theme-showcase {
  padding: 6rem 0;
  background: white;
}

.theme-gallery-enhanced {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 2.5rem;
  margin-bottom: 3rem;
}

.theme-card-enhanced {
  background: white;
  border-radius: 20px;
  overflow: hidden;
  box-shadow: 0 10px 30px rgba(0,0,0,0.1);
  transition: all 0.3s ease;
  cursor: pointer;
  position: relative;
}

.theme-card-enhanced:hover {
  box-shadow: 0 20px 50px rgba(0,0,0,0.15);
}

.theme-preview {
  position: relative;
  height: 250px;
  overflow: hidden;
}

.theme-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.3s ease;
}

.theme-card-enhanced:hover .theme-image {
  transform: scale(1.05);
}

.theme-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0,0,0,0.6);
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  transition: opacity 0.3s ease;
  backdrop-filter: blur(2px);
}

.theme-overlay-content {
  text-align: center;
  color: white;
}

.theme-overlay-title {
  font-size: 1.2rem;
  font-weight: 700;
}

.theme-card-content {
  padding: 2rem;
}

.theme-tag {
  padding: 0.4rem 0.8rem;
  border-radius: 20px;
  font-size: 0.75rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 1rem;
  display: inline-block;
}

.rustic-tag {
  background: #8B4513;
  color: white;
}

.garden-tag {
  background: #27AE60;
  color: white;
}

.elegant-tag {
  background: #1456ee;
  color: white;
}

.theme-features {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}

.feature-tag {
  background: var(--light-gray);
  color: var(--medium-gray);
  padding: 0.25rem 0.75rem;
  border-radius: 15px;
  font-size: 0.8rem;
  font-weight: 500;
}

/* Browser Mockup for Website Preview */
.browser-mockup {
  background: white;
  border-radius: 10px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.15);
  overflow: hidden;
  transform: perspective(1000px) rotateY(-5deg) rotateX(5deg);
  transition: transform 0.3s ease;
}

.browser-mockup:hover {
  transform: perspective(1000px) rotateY(0deg) rotateX(0deg);
}

.browser-header {
  background: #f1f3f4;
  padding: 0.75rem 1rem;
  display: flex;
  align-items: center;
  gap: 1rem;
  border-bottom: 1px solid #e1e3e4;
}

.browser-dots {
  display: flex;
  gap: 0.5rem;
}

.dot {
  width: 12px;
  height: 12px;
  border-radius: 50%;
}

.dot.red { background: #ff5f56; }
.dot.yellow { background: #ffbd2e; }
.dot.green { background: #27ca3f; }

.browser-url {
  background: white;
  padding: 0.25rem 0.75rem;
  border-radius: 5px;
  font-size: 0.8rem;
  color: var(--medium-gray);
  border: 1px solid #e1e3e4;
  flex-grow: 1;
}

.website-preview-image {
  width: 100%;
  height: auto;
  display: block;
}

/* Responsive Design */
@media (max-width: 992px) {
  .hero-visual {
    min-height: 400px;
  }
  
  .floating-element {
    max-width: 200px;
    padding: 0.75rem 1rem;
    font-size: 0.9rem;
  }
  
  .floating-element:nth-child(1) {
    top: 5%;
    left: 0%;
  }

  .floating-element:nth-child(2) {
    top: 50%;
    right: -5%;
  }

  .floating-element:nth-child(3) {
    bottom: 10%;
    left: -3%;
  }
  
  .hero-image-wrapper {
    width: 300px;
    height: 300px;
  }
  
  .before-after-slider {
    height: 350px;
  }
  
  .step-item:nth-child(even) {
    flex-direction: row;
    text-align: left;
  }
}

@media (max-width: 768px) {
  .studio-demo-section {
    padding: 4rem 0;
  }
  
  .interactive-demo-container {
    padding: 1.5rem;
  }
  
  .before-after-slider {
    height: 300px;
  }
  
  .hero-image-wrapper {
    width: 250px;
    height: 250px;
  }
  
  .hero-visual {
    min-height: 350px;
  }
  
  .floating-element {
    display: none;
  }
  
  .step-item {
    margin-bottom: 2rem;
  }
  
  .step-number {
    width: 40px;
    height: 40px;
    font-size: 1.1rem;
  }
  
  .theme-gallery-enhanced {
    grid-template-columns: 1fr;
    gap: 2rem;
  }
  
  .browser-mockup {
    transform: none;
  }
  
  .slider-instructions {
    font-size: 0.8rem;
    padding: 0.4rem 0.8rem;
  }
  
  .handle-circle {
    width: 40px;
    height: 40px;
    font-size: 1rem;
  }
}

@media (max-width: 576px) {
  .before-after-slider {
    height: 250px;
  }
  
  .demo-stats .stat-number {
    font-size: 1.5rem;
  }
  
  .demo-stats .stat-label {
    font-size: 0.75rem;
  }
  
  .step-content h4 {
    font-size: 1.1rem;
  }
  
  .step-content p {
    font-size: 0.9rem;
  }
  
  .theme-card-content {
    padding: 1.5rem;
  }
  
  .interactive-demo-container {
    padding: 1rem;
  }
}

/* Touch-friendly adjustments */
@media (max-width: 768px) {
  .handle-circle {
    width: 50px;
    height: 50px;
  }
  
  .slider-handle {
    width: 6px;
  }
  
  .slider-instructions {
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }
}

/* Engagement & Wedding Photo Sections */
.engagement-photo-section,
.wedding-photo-section {
  padding: 6rem 0;
  background: var(--light-bg);
}

.wedding-photo-section {
  background: white;
}

.section-badge {
  display: inline-block;
  padding: 0.5rem 1.25rem;
  background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
  color: white;
  border-radius: 25px;
  font-size: 0.85rem;
  font-weight: 600;
  letter-spacing: 0.5px;
  margin-bottom: 1.5rem;
  text-transform: uppercase;
}

.section-text {
  font-size: 1.1rem;
  line-height: 1.8;
  color: var(--medium-gray);
}

.photo-comparison-grid {
  background: white;
  padding: 2rem;
  border-radius: 20px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.1);
}

.comparison-pair {
  display: flex;
  align-items: center;
  gap: 1.5rem;
  justify-content: center;
}

.photo-before,
.photo-after {
  flex: 1;
  position: relative;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 8px 20px rgba(0,0,0,0.1);
}

.photo-sample {
  width: 100%;
  height: 280px;
  object-fit: cover;
  display: block;
}

.photo-sample-large {
  width: 100%;
  height: 420px;
  object-fit: cover;
  display: block;
}

.photo-container {
  position: relative;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 8px 20px rgba(0,0,0,0.1);
}

.photo-label {
  position: absolute;
  top: 12px;
  right: 12px;
  background: rgba(0,0,0,0.75);
  color: white;
  padding: 0.4rem 0.9rem;
  border-radius: 20px;
  font-size: 0.8rem;
  font-weight: 600;
}

.photo-label-below {
  display: block;
  text-align: center;
  margin-top: 0.75rem;
  font-size: 0.9rem;
  font-weight: 600;
  color: var(--medium-gray);
}

.photo-label-below.enhanced {
  background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.photo-label.enhanced {
  background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
}

.photo-arrow {
  font-size: 2rem;
  color: var(--primary-color);
  flex-shrink: 0;
  align-self: center;
}

.benefit-list {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.benefit-item {
  display: flex;
  gap: 1rem;
  align-items: flex-start;
}

.benefit-item i {
  font-size: 1.5rem;
  flex-shrink: 0;
  margin-top: 0.2rem;
}

.benefit-item strong {
  display: block;
  color: var(--dark-color);
  font-size: 1.05rem;
  margin-bottom: 0.3rem;
}

.benefit-item p {
  color: var(--medium-gray);
  font-size: 0.95rem;
  line-height: 1.6;
}

/* Engagement Multi-Input Layout */
.engagement-multi-input {
  display: flex;
  align-items: center;
  gap: 1.5rem;
  justify-content: center;
}

.input-photos {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  flex: 1;
}

.input-photo-small {
  position: relative;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 8px 20px rgba(0,0,0,0.1);
}

.photo-sample-small {
  width: 100%;
  height: 140px;
  object-fit: cover;
  display: block;
}

.merge-arrows {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  font-size: 2rem;
  color: var(--primary-color);
  flex-shrink: 0;
}

.output-photo {
  flex: 1.2;
  position: relative;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 12px 30px rgba(0,0,0,0.15);
}

.photo-sample-output {
  width: 100%;
  height: 420px;
  object-fit: cover;
  display: block;
}

/* Wedding Slideshow Layout */
.wedding-slideshow-comparison {
  display: flex;
  align-items: flex-start;
  gap: 1.5rem;
  justify-content: center;
}

.photo-before-static {
  flex: 1;
  display: flex;
  flex-direction: column;
}

.photo-after-slideshow {
  flex: 1;
  display: flex;
  flex-direction: column;
}

.slideshow-container {
  position: relative;
  overflow: hidden;
  min-height: 420px;
}

.slideshow-slide {
  display: none;
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  opacity: 0;
  transform: translateX(100%);
  transition: all 0.6s ease-in-out;
}

.slideshow-slide.active {
  display: block;
  position: relative;
  opacity: 1;
  transform: translateX(0);
  animation: slideIn 0.6s ease-in-out;
}

.slideshow-slide.slide-out-left {
  transform: translateX(-100%);
  opacity: 0;
}

@keyframes slideIn {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.slideshow-dots {
  text-align: center;
  margin-top: 1rem;
  padding: 0.5rem 0;
  position: relative;
  z-index: 10;
}

.slideshow-dots .dot {
  height: 10px;
  width: 10px;
  margin: 0 5px;
  background-color: #d1d5db;
  border-radius: 50%;
  display: inline-block;
  cursor: pointer;
  transition: all 0.3s ease;
}

.slideshow-dots .dot:hover {
  background-color: #9ca3af;
}

.slideshow-dots .dot.active {
  background: #1e3a8a;
  transform: scale(1.2);
}

/* Responsive for photo sections */
@media (max-width: 992px) {
  .engagement-photo-section,
  .wedding-photo-section {
    padding: 4rem 0;
  }
  
  .photo-comparison-grid {
    padding: 1.5rem;
    margin-bottom: 2rem;
  }
  
  .engagement-multi-input,
  .wedding-slideshow-comparison {
    flex-direction: column;
    gap: 1rem;
  }
  
  .wedding-slideshow-comparison {
    align-items: center;
  }
  
  .merge-arrows {
    flex-direction: row;
    transform: rotate(90deg);
  }
  
  .photo-arrow {
    transform: rotate(90deg);
    align-self: center;
  }
  
  .input-photos {
    flex-direction: row;
    width: 100%;
  }
  
  .input-photo-small {
    flex: 1;
  }
  
  .photo-sample-small {
    height: 160px;
  }
  
  .output-photo {
    width: 100%;
  }
  
  .photo-sample-output {
    height: 250px;
  }
  
  .photo-sample-large {
    height: 350px;
  }
  
  .photo-before-static,
  .photo-after-slideshow {
    width: 100%;
    max-width: 400px;
  }
  
  .slideshow-container {
    min-height: 350px;
  }
}

@media (max-width: 768px) {
  .photo-sample,
  .photo-sample-output {
    height: 220px;
  }
  
  .photo-sample-large {
    height: 300px;
  }
  
  .photo-sample-small {
    height: 140px;
  }
  
  .section-text {
    font-size: 1rem;
  }
  
  .benefit-item {
    gap: 0.75rem;
  }
  
  .benefit-item i {
    font-size: 1.25rem;
  }
  
  .merge-arrows {
    font-size: 1.5rem;
    display: none;
  }
  
  .merge-arrows::after {
    content: '‚Üì';
    display: block;
    font-size: 2rem;
    text-align: center;
  }
  
  .photo-before-static,
  .photo-after-slideshow {
    max-width: 100%;
  }
  
  .photo-container {
    width: 100%;
  }
  
  .photo-before-static .photo-container,
  .photo-after-slideshow .photo-container {
    width: 100%;
    max-width: 100%;
  }
  
  .slideshow-container {
    min-height: 300px;
  }
}

@media (max-width: 576px) {
  .input-photos {
    flex-direction: column;
    gap: 0.75rem;
  }
  
  .photo-sample-small {
    height: 120px;
  }
  
  .merge-arrows {
    flex-direction: column;
    transform: none;
    display: none;
  }
  
  .merge-arrows::after {
    content: '‚Üì';
    display: block;
    font-size: 2.5rem;
    text-align: center;
    color: var(--primary-color);
  }
  
  .photo-sample-output {
    height: 220px;
  }
  
  .photo-sample-large {
    height: 280px;
  }
  
  .photo-before-static,
  .photo-after-slideshow {
    max-width: 100%;
  }
  
  .slideshow-container {
    width: 100%;
    min-height: 280px;
  }
}

</style>

<script>
// Wedding Photo Slideshow
document.addEventListener('DOMContentLoaded', function() {
  const slides = document.querySelectorAll('.slideshow-slide');
  const dots = document.querySelectorAll('.slideshow-dots .dot');
  let currentSlide = 0;
  let slideInterval;

  function showSlide(n) {
    // Add slide-out effect to current slide
    if (slides[currentSlide]) {
      slides[currentSlide].classList.add('slide-out-left');
    }
    
    // Small delay for slide-out animation
    setTimeout(() => {
      // Hide all slides
      slides.forEach(slide => {
        slide.classList.remove('active', 'slide-out-left');
      });
      
      // Remove active class from all dots
      dots.forEach(dot => {
        dot.classList.remove('active');
      });
      
      // Wrap around if needed
      if (n >= slides.length) {
        currentSlide = 0;
      } else if (n < 0) {
        currentSlide = slides.length - 1;
      } else {
        currentSlide = n;
      }
      
      // Show current slide
      slides[currentSlide].classList.add('active');
      dots[currentSlide].classList.add('active');
    }, 100);
  }

  function nextSlide() {
    showSlide(currentSlide + 1);
  }

  // Add click handlers to dots
  dots.forEach((dot, index) => {
    dot.addEventListener('click', () => {
      showSlide(index);
      // Reset interval when user manually clicks
      clearInterval(slideInterval);
      slideInterval = setInterval(nextSlide, 3000);
    });
  });

  // Auto-advance slides every 3 seconds
  slideInterval = setInterval(nextSlide, 3000);

  // Pause on hover
  const slideshowContainer = document.querySelector('.slideshow-container');
  if (slideshowContainer) {
    slideshowContainer.addEventListener('mouseenter', () => {
      clearInterval(slideInterval);
    });

    slideshowContainer.addEventListener('mouseleave', () => {
      slideInterval = setInterval(nextSlide, 3000);
    });
  }
});
</script>
{% endblock %}
