{% extends "base.html" %}
{% load static %}

{% block title %}Pricing - DreamWedAI{% endblock %}

{% block content %}
<div class="pricing-page">
  <!-- Hero Section -->
  <section class="pricing-hero-section">
    <div class="container">
      <div class="row justify-content-center text-center py-5">
        <div class="col-lg-8">
          <h1 class="display-4 fw-bold mb-4">
            Simple, Transparent 
            <span class="text-gradient">Pricing</span>
          </h1>
          <p class="lead text-muted mb-5">
            Start free with a beautiful wedding page. Upgrade anytime for unlimited AI visualizations.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Pricing Cards -->
  <section class="py-5">
    <div class="container">
      <div class="row g-4 justify-content-center">
        <!-- Free Plan -->
        <div class="col-lg-4 col-md-6">
          <div class="card pricing-card h-100 border-0 shadow-lg">
            <div class="card-header bg-light text-center py-4">
              <h3 class="fw-bold mb-0">Free Forever</h3>
              <div class="mt-3">
                <span class="display-4 fw-bold">$0</span>
                <span class="text-muted">/month</span>
              </div>
            </div>
            <div class="card-body p-4">
              <ul class="list-unstyled mb-4">
                <li class="mb-3">
                  <i class="bi bi-check-circle-fill text-success me-2"></i>
                  Beautiful wedding page
                </li>
                <li class="mb-3">
                  <i class="bi bi-check-circle-fill text-success me-2"></i>
                  Unlimited registry links
                </li>
                <li class="mb-3">
                  <i class="bi bi-check-circle-fill text-success me-2"></i>
                  Social media integration
                </li>
                <li class="mb-3">
                  <i class="bi bi-check-circle-fill text-success me-2"></i>
                  3 AI transformations
                </li>
                <li class="mb-3 text-muted">
                  <i class="bi bi-x-circle text-muted me-2"></i>
                  <s>Unlimited AI transforms</s>
                </li>
                <li class="mb-3 text-muted">
                  <i class="bi bi-x-circle text-muted me-2"></i>
                  <s>Priority support</s>
                </li>
              </ul>
              <div class="d-grid">
                {% if user.is_authenticated %}
                  <a href="{% url 'wedding_shopping:dashboard' %}" class="btn btn-outline-primary btn-lg">
                    Get Started
                  </a>
                {% else %}
                  <a href="{% url 'account_signup' %}" class="btn btn-outline-primary btn-lg">
                    Sign Up Free
                  </a>
                {% endif %}
              </div>
            </div>
          </div>
        </div>

        <!-- Pro Plan -->
        <div class="col-lg-4 col-md-6">
          <div class="card pricing-card featured h-100 border-0 shadow-lg">
            <div class="ribbon">
              <span>Most Popular</span>
            </div>
            <div class="card-header bg-gradient-rose text-white text-center py-4">
              <h3 class="fw-bold mb-0">Pro</h3>
              <div class="mt-3">
                <span class="display-4 fw-bold">$19</span>
                <span>/month</span>
              </div>
            </div>
            <div class="card-body p-4">
              <ul class="list-unstyled mb-4">
                <li class="mb-3">
                  <i class="bi bi-check-circle-fill text-success me-2"></i>
                  <strong>Everything in Free</strong>
                </li>
                <li class="mb-3">
                  <i class="bi bi-check-circle-fill text-success me-2"></i>
                  <strong>50 AI transformations/month</strong>
                </li>
                <li class="mb-3">
                  <i class="bi bi-check-circle-fill text-success me-2"></i>
                  HD quality exports
                </li>
                <li class="mb-3">
                  <i class="bi bi-check-circle-fill text-success me-2"></i>
                  Collections & favorites
                </li>
                <li class="mb-3">
                  <i class="bi bi-check-circle-fill text-success me-2"></i>
                  Priority processing
                </li>
                <li class="mb-3">
                  <i class="bi bi-check-circle-fill text-success me-2"></i>
                  Email support
                </li>
              </ul>
              <div class="d-grid">
                <form action="{% url 'subscriptions:create_checkout_session' %}" method="POST">
                  {% csrf_token %}
                  <input type="hidden" name="price_id" value="price_pro_monthly">
                  <button type="submit" class="btn btn-gradient-rose btn-lg w-100">
                    <i class="bi bi-lightning-fill me-1"></i> Start Pro Trial
                  </button>
                </form>
              </div>
              <p class="text-center text-muted small mt-2 mb-0">
                7-day free trial â€¢ Cancel anytime
              </p>
            </div>
          </div>
        </div>

        <!-- Premium Plan -->
        <div class="col-lg-4 col-md-6">
          <div class="card pricing-card h-100 border-0 shadow-lg">
            <div class="card-header bg-gradient-cyan text-white text-center py-4">
              <h3 class="fw-bold mb-0">Premium</h3>
              <div class="mt-3">
                <span class="display-4 fw-bold">$49</span>
                <span>/month</span>
              </div>
            </div>
            <div class="card-body p-4">
              <ul class="list-unstyled mb-4">
                <li class="mb-3">
                  <i class="bi bi-check-circle-fill text-success me-2"></i>
                  <strong>Everything in Pro</strong>
                </li>
                <li class="mb-3">
                  <i class="bi bi-check-circle-fill text-success me-2"></i>
                  <strong>Unlimited AI transformations</strong>
                </li>
                <li class="mb-3">
                  <i class="bi bi-check-circle-fill text-success me-2"></i>
                  4K quality exports
                </li>
                <li class="mb-3">
                  <i class="bi bi-check-circle-fill text-success me-2"></i>
                  Advanced customization
                </li>
                <li class="mb-3">
                  <i class="bi bi-check-circle-fill text-success me-2"></i>
                  White-glove support
                </li>
                <li class="mb-3">
                  <i class="bi bi-check-circle-fill text-success me-2"></i>
                  Early access features
                </li>
              </ul>
              <div class="d-grid">
                <form action="{% url 'subscriptions:create_checkout_session' %}" method="POST">
                  {% csrf_token %}
                  <input type="hidden" name="price_id" value="price_premium_monthly">
                  <button type="submit" class="btn btn-gradient-cyan btn-lg w-100">
                    Go Premium
                  </button>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ Section -->
  <section class="py-6 bg-light">
    <div class="container">
      <div class="row">
        <div class="col-lg-8 mx-auto">
          <h2 class="text-center mb-5">Frequently Asked Questions</h2>
          
          <div class="accordion" id="pricingFAQ">
            <div class="accordion-item">
              <h2 class="accordion-header">
                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#faq1">
                  What's included in the free plan?
                </button>
              </h2>
              <div id="faq1" class="accordion-collapse collapse show" data-bs-parent="#pricingFAQ">
                <div class="accordion-body">
                  The free plan includes a beautiful wedding page, unlimited registry links, 
                  social media integration, and 3 AI venue transformations to get you started.
                </div>
              </div>
            </div>
            
            <div class="accordion-item">
              <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq2">
                  Can I cancel my subscription anytime?
                </button>
              </h2>
              <div id="faq2" class="accordion-collapse collapse" data-bs-parent="#pricingFAQ">
                <div class="accordion-body">
                  Yes! You can cancel your subscription at any time. You'll continue to have 
                  access until the end of your billing period, and your wedding page remains free forever.
                </div>
              </div>
            </div>
            
            <div class="accordion-item">
              <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq3">
                  Do unused transformations roll over?
                </button>
              </h2>
              <div id="faq3" class="accordion-collapse collapse" data-bs-parent="#pricingFAQ">
                <div class="accordion-body">
                  Currently, unused transformations don't roll over to the next month. 
                  Your transformation count resets at the beginning of each billing cycle.
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="final-cta">
    <div class="container">
      <div class="row">
        <div class="col-lg-8 mx-auto text-center">
          <h2 class="section-title">Ready to Transform Your Wedding Vision?</h2>
          <p class="section-subtitle mb-4">
            Start with our free plan and upgrade whenever you're ready
          </p>
          <div class="d-flex flex-wrap justify-content-center gap-3">
            {% if user.is_authenticated %}
              <a href="{% url 'image_processing:wedding_studio' %}" class="hero-cta-primary">
                <i class="bi bi-magic"></i> Start Creating
              </a>
            {% else %}
              <a href="{% url 'account_signup' %}" class="hero-cta-primary">
                <i class="bi bi-heart-fill"></i> Get Started Free
              </a>
            {% endif %}
            <a href="{% url 'about' %}" class="hero-cta-secondary">
              <i class="bi bi-info-circle"></i> Learn More
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>

<style>
.pricing-card {
  position: relative;
  transition: all 0.3s ease;
}

.pricing-card:hover {
  transform: translateY(-10px);
}

.pricing-card.featured {
  transform: scale(1.05);
}

.pricing-card.featured:hover {
  transform: scale(1.05) translateY(-10px);
}

.ribbon {
  position: absolute;
  top: 20px;
  right: -30px;
  background: var(--electric-rose);
  color: white;
  padding: 5px 40px;
  transform: rotate(45deg);
  font-size: 0.8rem;
  font-weight: 600;
  z-index: 10;
}

.pricing-hero-section {
  background: var(--light-gray);
}
</style>
{% endblock %}